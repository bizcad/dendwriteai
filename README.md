# DendwriteAI

Capture, classify, and organize your ideas with AI.

## Current Status (2026-01-15)

âœ… **Authentication & Persistent Login Working**
- NextAuth.js v4 configured with 30-day persistent sessions
- Secure HttpOnly cookies + JWT tokens
- Multi-tenant architecture ready
- Both dev servers running: Convex (http://127.0.0.1:3210) + Next.js (http://localhost:3001)

ðŸ“‹ **Deployment Ready**
- See `NEXT_STEPS.md` for 5-step deployment checklist
- See `PRODUCTION_DEPLOYMENT.md` for detailed deployment guide
- See `ALPHA_TESTER_GUIDE.md` for tester onboarding

---

## Stack

- **Frontend**: Next.js 16 + TypeScript + Tailwind CSS
- **Backend**: Convex (serverless database + functions)
- **LLM**: Claude (Anthropic)
- **Auth**: NextAuth.js + Credentials provider (multi-tenant)
- **Deployment**: Vercel (frontend) + Convex Cloud (backend)

## Project Structure

```
dendwriteai/
â”œâ”€â”€ web/                    # Next.js 16 frontend
â”‚   â”œâ”€â”€ app/               # App Router (pages, components, layouts)
â”‚   â”œâ”€â”€ auth.ts            # NextAuth configuration
â”‚   â”œâ”€â”€ public/            # Static assets
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ convex/                # Convex backend (TypeScript)
â”‚   â”œâ”€â”€ schema.ts          # Database schema (multi-tenant)
â”‚   â”œâ”€â”€ captures.ts        # Capture mutations/queries
â”‚   â”œâ”€â”€ classification.ts  # AI classification logic
â”‚   â””â”€â”€ _generated/        # Auto-generated types & API
â”œâ”€â”€ NEXT_STEPS.md          # 5-step deployment checklist
â”œâ”€â”€ PRODUCTION_DEPLOYMENT.md # Detailed deployment guide
â”œâ”€â”€ ALPHA_TESTER_GUIDE.md  # For sharing with testers
â”œâ”€â”€ .env.local             # Local environment variables
â””â”€â”€ package.json           # Root dependencies
```

## Getting Started


### Prerequisites
- Node.js 20+
- npm or yarn
- Convex CLI (installed via npm)

### Development

1. **Start Convex local backend**:
   \\\ash
   npx convex dev
   \\\

2. **In another terminal, start Next.js dev server**:
   \\\ash
   cd web
   npm run dev
   \\\

3. **Open browser**: http://localhost:3000

### What Works Now
- âœ… Next.js 15 + Convex integration
- âœ… Capture form with real-time sync
- âœ… Display pending captures with filtered view
- âœ… Schema with all tables (captures, people, projects, ideas, admin, lowConfidence, inboxLog)
- âœ… Capture submission with idempotency (UUID)
- âœ… Claude API integration for classification
- âœ… Batch classification with "Classify All" button
- âœ… Confidence-based routing (0.6 threshold)
- âœ… Low-confidence flagging and review table
- âœ… Classification logging with reasoning and confidence scores
- âœ… Real-time UI sync and hot reload

### Completed Phases
- **Phase 0 âœ…**: Setup & Learning (see [PHASE-0-COMPLETE.md](PHASE-0-COMPLETE.md))
- **Phase 1 âœ…**: LLM Integration (see [PHASE-1-COMPLETE.md](PHASE-1-COMPLETE.md))

### Next Steps (Phase 2+)
- [ ] Category display pages (Inbox, People, Projects, Ideas, Admin)
- [ ] Manual override UI for low-confidence items
- [ ] GitHub authentication
- [ ] Production deployment to Vercel + Convex Cloud

## Environment Variables

### Root (.env.local)
- \CONVEX_DEPLOYMENT\: Auto-generated by convex dev
- \CONVEX_URL\: Local backend URL (http://127.0.0.1:3210)

### Web (.env.local)
- \NEXT_PUBLIC_CONVEX_URL\: Public Convex URL for client

### Future
- \ANTHROPIC_API_KEY\: Claude API key (set in Convex dashboard secrets)
- \OPENAI_API_KEY\: OpenAI API key (if switching providers)

## Resources

- [Convex Docs](https://docs.convex.dev)
- [Next.js Docs](https://nextjs.org/docs)
- [Tailwind CSS](https://tailwindcss.com)
- [Anthropic Claude](https://console.anthropic.com)

## Status

**Phase 0 âœ…**: Setup complete
- [x] Convex initialized (local)
- [x] Next.js 15 created
- [x] Schema defined
- [x] Test page with capture form
- [x] Convex â†” React integration verified

**Phase 1**: Core backend (in progress)
**Phase 2**: Frontend UI
**Phase 3**: LLM integration & deployment
