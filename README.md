# DendwriteAI

Capture, classify, and organize your ideas with AI.

## Stack

- **Frontend**: Next.js 15 + TypeScript + Tailwind CSS
- **Backend**: Convex (serverless database + functions)
- **LLM**: Claude (Anthropic)
- **Auth**: Anonymous (MVP) → GitHub auth (later) → Clerk (for subscribers)
- **Deployment**: Vercel (frontend) + Convex Cloud (backend)

## Project Structure

\\\
dendwriteai/
├── web/                    # Next.js 15 frontend
│   ├── app/               # App Router (pages, components, layouts)
│   ├── public/            # Static assets
│   └── package.json
├── convex/                # Convex backend (TypeScript)
│   ├── schema.ts          # Database schema
│   ├── captures.ts        # Capture mutations/queries
│   ├── classification.ts  # Classification logic
│   └── _generated/        # Auto-generated types & API
├── .env.local            # Local environment variables
└── package.json          # Root dependencies
\\\

## Getting Started

### Prerequisites
- Node.js 20+
- npm or yarn
- Convex CLI (installed via npm)

### Development

1. **Start Convex local backend**:
   \\\ash
   npx convex dev
   \\\

2. **In another terminal, start Next.js dev server**:
   \\\ash
   cd web
   npm run dev
   \\\

3. **Open browser**: http://localhost:3000

### What Works Now
- ✅ Next.js 15 + Convex integration
- ✅ Capture form with real-time sync
- ✅ Display pending captures with filtered view
- ✅ Schema with all tables (captures, people, projects, ideas, admin, lowConfidence, inboxLog)
- ✅ Capture submission with idempotency (UUID)
- ✅ Claude API integration for classification
- ✅ Batch classification with "Classify All" button
- ✅ Confidence-based routing (0.6 threshold)
- ✅ Low-confidence flagging and review table
- ✅ Classification logging with reasoning and confidence scores
- ✅ Real-time UI sync and hot reload

### Completed Phases
- **Phase 0 ✅**: Setup & Learning (see [PHASE-0-COMPLETE.md](PHASE-0-COMPLETE.md))
- **Phase 1 ✅**: LLM Integration (see [PHASE-1-COMPLETE.md](PHASE-1-COMPLETE.md))

### Next Steps (Phase 2+)
- [ ] Category display pages (Inbox, People, Projects, Ideas, Admin)
- [ ] Manual override UI for low-confidence items
- [ ] GitHub authentication
- [ ] Production deployment to Vercel + Convex Cloud

## Environment Variables

### Root (.env.local)
- \CONVEX_DEPLOYMENT\: Auto-generated by convex dev
- \CONVEX_URL\: Local backend URL (http://127.0.0.1:3210)

### Web (.env.local)
- \NEXT_PUBLIC_CONVEX_URL\: Public Convex URL for client

### Future
- \ANTHROPIC_API_KEY\: Claude API key (set in Convex dashboard secrets)
- \OPENAI_API_KEY\: OpenAI API key (if switching providers)

## Resources

- [Convex Docs](https://docs.convex.dev)
- [Next.js Docs](https://nextjs.org/docs)
- [Tailwind CSS](https://tailwindcss.com)
- [Anthropic Claude](https://console.anthropic.com)

## Status

**Phase 0 ✅**: Setup complete
- [x] Convex initialized (local)
- [x] Next.js 15 created
- [x] Schema defined
- [x] Test page with capture form
- [x] Convex ↔ React integration verified

**Phase 1**: Core backend (in progress)
**Phase 2**: Frontend UI
**Phase 3**: LLM integration & deployment
